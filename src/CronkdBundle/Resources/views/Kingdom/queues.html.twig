{% set minTick = world.tick + 1 %}
{% set maxTick = world.tick + 1 %}

{% for resourceQueues in queues %}
    {% for queue in resourceQueues.queues %}
        {% set maxTick = queue.tick %}
    {% endfor %}
{% endfor %}

<table class="table table-bordered">
    <thead>
    <tr>
        <th>
            <strong>Tick</strong>
            <span class="pull-right">{{ world.tick }}</span>
        </th>
        {% for tick in range(minTick, maxTick) %}
            <th>{{ tick }}</th>
        {% endfor %}
    </tr>
    </thead>
    <tbody>
    {% for resourceQueues in queues %}
    <tr>
        <td>
            <strong>{{ resourceQueues.kingdomResource.resource.name }}</strong>
            <span class="pull-right">
                <strong>
                {% for kingdomResource in kingdom.resources %}
                    {% if kingdomResource.resource.id == resourceQueues.kingdomResource.resource.id %}
                    {{ kingdomResource.quantity }}
                    {% endif %}
                {% endfor %}
                </strong>
            </span>
        </td>
        {% for tick in range(minTick, maxTick) %}
            {% set quantity = 0 %}
            {% for queue in resourceQueues.queues %}
                {% if tick == queue.tick %}
                    {% set quantity = quantity + queue.quantity %}
                {% endif %}
            {% endfor %}
            <td>{{ quantity }}</td>
        {% endfor %}
    </tr>
    {% endfor %}
    </tbody>
</table>